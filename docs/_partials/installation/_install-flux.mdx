### Install Flux

Follow the [Flux installation guide](https://fluxcd.io/flux/installation/) to
install Flux, or if you are just using this cluster for testing you can use the
following manifest (**NOT to be used for production**). Other GitOps tools are
available, such as ArgoCD.

```bash
# Install flux on the worker
kubectl apply --context $WORKER --filename https://raw.githubusercontent.com/syntasso/kratix/main/hack/destination/gitops-tk-install.yaml
```


Make sure that `flux` is ready before proceeding:

```shell-session
$ kubectl --context $WORKER get pods --namespace flux-system
NAME                                       READY   STATUS    RESTARTS   AGE
helm-controller-5f7457c9dd-s5qzt           1/1     Running   0          18s
kustomize-controller-5f58d55f76-hwm5w      1/1     Running   0          19s
notification-controller-685bdc466d-5xmk8   1/1     Running   0          16s
source-controller-86b8b57796-t6xgg         1/1     Running   0          20s
```
